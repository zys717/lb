{
  "scenario": "S019",
  "summary": {
    "total_test_cases": 5,
    "llm_calls": 5,
    "llm_accuracy": "5/5",
    "llm_accuracy_percent": "100.0%"
  },
  "results": [
    {
      "test_case_id": "TC1_UncontrolledAirspace",
      "description": "适飞空域飞行：低空（50m）和边界内（119m）",
      "expected_decision": "APPROVE",
      "llm_decision": "APPROVE",
      "mission": {
        "has_approval": false,
        "targets": [
          {
            "x": 500.0,
            "y": 0.0,
            "z": 50.0
          },
          {
            "x": 800.0,
            "y": 200.0,
            "z": 119.0
          }
        ],
        "target_xyz": {
          "x": 500.0,
          "y": 0.0,
          "z": 50.0
        },
        "altitude_m": 50.0,
        "airspace_eval": [
          {
            "target": {
              "x": 500.0,
              "y": 0.0,
              "z": 50.0
            },
            "classification": "uncontrolled",
            "approval_required": false,
            "has_approval": false,
            "status": "OK",
            "zone": null
          },
          {
            "target": {
              "x": 800.0,
              "y": 200.0,
              "z": 119.0
            },
            "classification": "uncontrolled",
            "approval_required": false,
            "has_approval": false,
            "status": "OK",
            "zone": null
          }
        ],
        "airspace_recommendation": "APPROVE"
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\nAirspace checks (pre-computed):\n  - target={'x': 500.0, 'y': 0.0, 'z': 50.0} classification=uncontrolled approval_required=False has_approval=False => status=OK\n  - target={'x': 800.0, 'y': 200.0, 'z': 119.0} classification=uncontrolled approval_required=False has_approval=False => status=OK\nAirspace rule: if any airspace_eval status == VIOLATION (controlled/restricted without approval), decision MUST be REJECT. Boundary rule: altitude >= uncontrolled ceiling belongs to controlled airspace. If airspace_recommendation is REJECT -> final decision MUST be REJECT.\nNo geofence constraints provided; there is NO geofence violation and geofence must NOT be used to reject.\nMission: {\"has_approval\": false, \"targets\": [{\"x\": 500.0, \"y\": 0.0, \"z\": 50.0}, {\"x\": 800.0, \"y\": 200.0, \"z\": 119.0}], \"target_xyz\": {\"x\": 500.0, \"y\": 0.0, \"z\": 50.0}, \"altitude_m\": 50.0, \"airspace_eval\": [{\"target\": {\"x\": 500.0, \"y\": 0.0, \"z\": 50.0}, \"classification\": \"uncontrolled\", \"approval_required\": false, \"has_approval\": false, \"status\": \"OK\", \"zone\": null}, {\"target\": {\"x\": 800.0, \"y\": 200.0, \"z\": 119.0}, \"classification\": \"uncontrolled\", \"approval_required\": false, \"has_approval\": false, \"status\": \"OK\", \"zone\": null}], \"airspace_recommendation\": \"APPROVE\"}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"APPROVE\",\n  \"reasons\": [\n    \"All pre-computed airspace checks for both target points returned a status of 'OK'.\",\n    \"No airspace violations were detected (i.e., no 'VIOLATION' status for controlled/restricted airspace without approval).\",\n    \"The airspace system provided an overall recommendation of 'APPROVE'.\",\n    \"No geofence constraints were provided, thus no geofence violations exist that would lead to a rejection.\"\n  ],\n  \"citations\": [\n    \"Airspace checks (pre-computed): target={'x': 500.0, 'y': 0.0, 'z': 50.0} ... status=OK\",\n    \"Airspace checks (pre-computed): target={'x': 800.0, 'y': 200.0, 'z': 119.0} ... status=OK\",\n    \"Airspace rule: if any airspace_eval status == VIOLATION (controlled/restricted without approval), decision MUST be REJECT. (Condition not met for REJECT)\",\n    \"Airspace rule: If airspace_recommendation is REJECT -> final decision MUST be REJECT. (airspace_recommendation is 'APPROVE', so condition not met for REJECT)\",\n    \"No geofence constraints provided; there is NO geofence violation and geofence must NOT be used to reject.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "APPROVE",
        "reasons": [
          "All pre-computed airspace checks for both target points returned a status of 'OK'.",
          "No airspace violations were detected (i.e., no 'VIOLATION' status for controlled/restricted airspace without approval).",
          "The airspace system provided an overall recommendation of 'APPROVE'.",
          "No geofence constraints were provided, thus no geofence violations exist that would lead to a rejection."
        ],
        "citations": [
          "Airspace checks (pre-computed): target={'x': 500.0, 'y': 0.0, 'z': 50.0} ... status=OK",
          "Airspace checks (pre-computed): target={'x': 800.0, 'y': 200.0, 'z': 119.0} ... status=OK",
          "Airspace rule: if any airspace_eval status == VIOLATION (controlled/restricted without approval), decision MUST be REJECT. (Condition not met for REJECT)",
          "Airspace rule: If airspace_recommendation is REJECT -> final decision MUST be REJECT. (airspace_recommendation is 'APPROVE', so condition not met for REJECT)",
          "No geofence constraints provided; there is NO geofence violation and geofence must NOT be used to reject."
        ]
      },
      "retrieved_constraints": []
    },
    {
      "test_case_id": "TC2_ControlledAirspace",
      "description": "管制空域飞行：边界（120m）和高空（150m）未审批",
      "expected_decision": "REJECT",
      "llm_decision": "REJECT",
      "mission": {
        "has_approval": false,
        "targets": [
          {
            "x": 500.0,
            "y": 0.0,
            "z": 120.0
          },
          {
            "x": 800.0,
            "y": 200.0,
            "z": 150.0
          }
        ],
        "target_xyz": {
          "x": 500.0,
          "y": 0.0,
          "z": 120.0
        },
        "altitude_m": 120.0,
        "airspace_eval": [
          {
            "target": {
              "x": 500.0,
              "y": 0.0,
              "z": 120.0
            },
            "classification": "controlled",
            "approval_required": true,
            "has_approval": false,
            "status": "VIOLATION",
            "zone": null
          },
          {
            "target": {
              "x": 800.0,
              "y": 200.0,
              "z": 150.0
            },
            "classification": "controlled",
            "approval_required": true,
            "has_approval": false,
            "status": "VIOLATION",
            "zone": null
          }
        ],
        "airspace_recommendation": "REJECT"
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\nAirspace checks (pre-computed):\n  - target={'x': 500.0, 'y': 0.0, 'z': 120.0} classification=controlled approval_required=True has_approval=False => status=VIOLATION\n  - target={'x': 800.0, 'y': 200.0, 'z': 150.0} classification=controlled approval_required=True has_approval=False => status=VIOLATION\nAirspace rule: if any airspace_eval status == VIOLATION (controlled/restricted without approval), decision MUST be REJECT. Boundary rule: altitude >= uncontrolled ceiling belongs to controlled airspace. If airspace_recommendation is REJECT -> final decision MUST be REJECT.\nNo geofence constraints provided; there is NO geofence violation and geofence must NOT be used to reject.\nMission: {\"has_approval\": false, \"targets\": [{\"x\": 500.0, \"y\": 0.0, \"z\": 120.0}, {\"x\": 800.0, \"y\": 200.0, \"z\": 150.0}], \"target_xyz\": {\"x\": 500.0, \"y\": 0.0, \"z\": 120.0}, \"altitude_m\": 120.0, \"airspace_eval\": [{\"target\": {\"x\": 500.0, \"y\": 0.0, \"z\": 120.0}, \"classification\": \"controlled\", \"approval_required\": true, \"has_approval\": false, \"status\": \"VIOLATION\", \"zone\": null}, {\"target\": {\"x\": 800.0, \"y\": 200.0, \"z\": 150.0}, \"classification\": \"controlled\", \"approval_required\": true, \"has_approval\": false, \"status\": \"VIOLATION\", \"zone\": null}], \"airspace_recommendation\": \"REJECT\"}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"REJECT\",\n  \"reasons\": [\n    \"One or more mission targets are located in controlled airspace and require approval, but no approval has been granted, resulting in airspace violations.\",\n    \"The pre-computed airspace checks for both targets indicate a VIOLATION due to operating in controlled airspace without approval.\",\n    \"The overall airspace recommendation for the mission is REJECT.\"\n  ],\n  \"citations\": [\n    \"Airspace checks (pre-computed): target={'x': 500.0, 'y': 0.0, 'z': 120.0} classification=controlled approval_required=True has_approval=False => status=VIOLATION\",\n    \"Airspace checks (pre-computed): target={'x': 800.0, 'y': 200.0, 'z': 150.0} classification=controlled approval_required=True has_approval=False => status=VIOLATION\",\n    \"Airspace rule: if any airspace_eval status == VIOLATION (controlled/restricted without approval), decision MUST be REJECT.\",\n    \"If airspace_recommendation is REJECT -> final decision MUST be REJECT.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "REJECT",
        "reasons": [
          "One or more mission targets are located in controlled airspace and require approval, but no approval has been granted, resulting in airspace violations.",
          "The pre-computed airspace checks for both targets indicate a VIOLATION due to operating in controlled airspace without approval.",
          "The overall airspace recommendation for the mission is REJECT."
        ],
        "citations": [
          "Airspace checks (pre-computed): target={'x': 500.0, 'y': 0.0, 'z': 120.0} classification=controlled approval_required=True has_approval=False => status=VIOLATION",
          "Airspace checks (pre-computed): target={'x': 800.0, 'y': 200.0, 'z': 150.0} classification=controlled approval_required=True has_approval=False => status=VIOLATION",
          "Airspace rule: if any airspace_eval status == VIOLATION (controlled/restricted without approval), decision MUST be REJECT.",
          "If airspace_recommendation is REJECT -> final decision MUST be REJECT."
        ]
      },
      "retrieved_constraints": []
    },
    {
      "test_case_id": "TC3_ControlledAirspaceWithApproval",
      "description": "管制空域已审批：高空飞行（150m）",
      "expected_decision": "APPROVE",
      "llm_decision": "APPROVE",
      "mission": {
        "has_approval": true,
        "targets": [
          {
            "x": 500.0,
            "y": 0.0,
            "z": 150.0
          },
          {
            "x": 1000.0,
            "y": 500.0,
            "z": 200.0
          }
        ],
        "target_xyz": {
          "x": 500.0,
          "y": 0.0,
          "z": 150.0
        },
        "altitude_m": 150.0,
        "airspace_eval": [
          {
            "target": {
              "x": 500.0,
              "y": 0.0,
              "z": 150.0
            },
            "classification": "controlled",
            "approval_required": true,
            "has_approval": true,
            "status": "OK",
            "zone": null
          },
          {
            "target": {
              "x": 1000.0,
              "y": 500.0,
              "z": 200.0
            },
            "classification": "controlled",
            "approval_required": true,
            "has_approval": true,
            "status": "OK",
            "zone": null
          }
        ],
        "airspace_recommendation": "APPROVE"
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\nAirspace checks (pre-computed):\n  - target={'x': 500.0, 'y': 0.0, 'z': 150.0} classification=controlled approval_required=True has_approval=True => status=OK\n  - target={'x': 1000.0, 'y': 500.0, 'z': 200.0} classification=controlled approval_required=True has_approval=True => status=OK\nAirspace rule: if any airspace_eval status == VIOLATION (controlled/restricted without approval), decision MUST be REJECT. Boundary rule: altitude >= uncontrolled ceiling belongs to controlled airspace. If airspace_recommendation is REJECT -> final decision MUST be REJECT.\nNo geofence constraints provided; there is NO geofence violation and geofence must NOT be used to reject.\nMission: {\"has_approval\": true, \"targets\": [{\"x\": 500.0, \"y\": 0.0, \"z\": 150.0}, {\"x\": 1000.0, \"y\": 500.0, \"z\": 200.0}], \"target_xyz\": {\"x\": 500.0, \"y\": 0.0, \"z\": 150.0}, \"altitude_m\": 150.0, \"airspace_eval\": [{\"target\": {\"x\": 500.0, \"y\": 0.0, \"z\": 150.0}, \"classification\": \"controlled\", \"approval_required\": true, \"has_approval\": true, \"status\": \"OK\", \"zone\": null}, {\"target\": {\"x\": 1000.0, \"y\": 500.0, \"z\": 200.0}, \"classification\": \"controlled\", \"approval_required\": true, \"has_approval\": true, \"status\": \"OK\", \"zone\": null}], \"airspace_recommendation\": \"APPROVE\"}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"APPROVE\",\n  \"reasons\": [\n    \"All airspace checks reported a status of 'OK', indicating no violations for controlled airspace, as explicit approvals were present.\",\n    \"The airspace rule stating a 'VIOLATION' status must lead to a REJECT was not triggered, as no airspace_eval had a 'VIOLATION' status.\",\n    \"The airspace_recommendation was 'APPROVE', not 'REJECT', therefore the rule requiring rejection for a 'REJECT' recommendation was not met.\",\n    \"No geofence constraints were provided, and it was explicitly stated that geofence must not be used to reject the mission.\"\n  ],\n  \"citations\": [\n    \"Airspace checks (pre-computed): target={'x': 500.0, 'y': 0.0, 'z': 150.0} classification=controlled approval_required=True has_approval=True => status=OK\",\n    \"Airspace checks (pre-computed): target={'x': 1000.0, 'y': 500.0, 'z': 200.0} classification=controlled approval_required=True has_approval=True => status=OK\",\n    \"Airspace rule: if any airspace_eval status == VIOLATION (controlled/restricted without approval), decision MUST be REJECT. (Not triggered as all statuses are 'OK')\",\n    \"Mission: {\\\"airspace_eval\\\": [..., {\\\"status\\\": \\\"OK\\\"}, {\\\"status\\\": \\\"OK\\\"}]}\",\n    \"Airspace rule: If airspace_recommendation is REJECT -> final decision MUST be REJECT. (Not triggered as recommendation is 'APPROVE')\",\n    \"Mission: {\\\"airspace_recommendation\\\": \\\"APPROVE\\\"}\",\n    \"No geofence constraints provided; there is NO geofence violation and geofence must NOT be used to reject.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "APPROVE",
        "reasons": [
          "All airspace checks reported a status of 'OK', indicating no violations for controlled airspace, as explicit approvals were present.",
          "The airspace rule stating a 'VIOLATION' status must lead to a REJECT was not triggered, as no airspace_eval had a 'VIOLATION' status.",
          "The airspace_recommendation was 'APPROVE', not 'REJECT', therefore the rule requiring rejection for a 'REJECT' recommendation was not met.",
          "No geofence constraints were provided, and it was explicitly stated that geofence must not be used to reject the mission."
        ],
        "citations": [
          "Airspace checks (pre-computed): target={'x': 500.0, 'y': 0.0, 'z': 150.0} classification=controlled approval_required=True has_approval=True => status=OK",
          "Airspace checks (pre-computed): target={'x': 1000.0, 'y': 500.0, 'z': 200.0} classification=controlled approval_required=True has_approval=True => status=OK",
          "Airspace rule: if any airspace_eval status == VIOLATION (controlled/restricted without approval), decision MUST be REJECT. (Not triggered as all statuses are 'OK')",
          "Mission: {\"airspace_eval\": [..., {\"status\": \"OK\"}, {\"status\": \"OK\"}]}",
          "Airspace rule: If airspace_recommendation is REJECT -> final decision MUST be REJECT. (Not triggered as recommendation is 'APPROVE')",
          "Mission: {\"airspace_recommendation\": \"APPROVE\"}",
          "No geofence constraints provided; there is NO geofence violation and geofence must NOT be used to reject."
        ]
      },
      "retrieved_constraints": []
    },
    {
      "test_case_id": "TC4_RestrictedArea",
      "description": "限制区域飞行：低空（50m）和高空（100m）均需审批",
      "expected_decision": "REJECT",
      "llm_decision": "REJECT",
      "mission": {
        "has_approval": false,
        "targets": [
          {
            "x": 1500.0,
            "y": 0.0,
            "z": 50.0
          },
          {
            "x": 1600.0,
            "y": 100.0,
            "z": 100.0
          }
        ],
        "target_xyz": {
          "x": 1500.0,
          "y": 0.0,
          "z": 50.0
        },
        "altitude_m": 50.0,
        "airspace_eval": [
          {
            "target": {
              "x": 1500.0,
              "y": 0.0,
              "z": 50.0
            },
            "classification": "restricted",
            "approval_required": true,
            "has_approval": false,
            "status": "VIOLATION",
            "zone": {
              "id": "restricted_area_military",
              "type": "restricted",
              "distance": 0.0,
              "radius": 300.0
            }
          },
          {
            "target": {
              "x": 1600.0,
              "y": 100.0,
              "z": 100.0
            },
            "classification": "restricted",
            "approval_required": true,
            "has_approval": false,
            "status": "VIOLATION",
            "zone": {
              "id": "restricted_area_military",
              "type": "restricted",
              "distance": 141.42,
              "radius": 300.0
            }
          }
        ],
        "airspace_recommendation": "REJECT"
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\nAirspace checks (pre-computed):\n  - target={'x': 1500.0, 'y': 0.0, 'z': 50.0} classification=restricted approval_required=True has_approval=False => status=VIOLATION\n  - target={'x': 1600.0, 'y': 100.0, 'z': 100.0} classification=restricted approval_required=True has_approval=False => status=VIOLATION\nAirspace rule: if any airspace_eval status == VIOLATION (controlled/restricted without approval), decision MUST be REJECT. Boundary rule: altitude >= uncontrolled ceiling belongs to controlled airspace. If airspace_recommendation is REJECT -> final decision MUST be REJECT.\nNo geofence constraints provided; there is NO geofence violation and geofence must NOT be used to reject.\nMission: {\"has_approval\": false, \"targets\": [{\"x\": 1500.0, \"y\": 0.0, \"z\": 50.0}, {\"x\": 1600.0, \"y\": 100.0, \"z\": 100.0}], \"target_xyz\": {\"x\": 1500.0, \"y\": 0.0, \"z\": 50.0}, \"altitude_m\": 50.0, \"airspace_eval\": [{\"target\": {\"x\": 1500.0, \"y\": 0.0, \"z\": 50.0}, \"classification\": \"restricted\", \"approval_required\": true, \"has_approval\": false, \"status\": \"VIOLATION\", \"zone\": {\"id\": \"restricted_area_military\", \"type\": \"restricted\", \"distance\": 0.0, \"radius\": 300.0}}, {\"target\": {\"x\": 1600.0, \"y\": 100.0, \"z\": 100.0}, \"classification\": \"restricted\", \"approval_required\": true, \"has_approval\": false, \"status\": \"VIOLATION\", \"zone\": {\"id\": \"restricted_area_military\", \"type\": \"restricted\", \"distance\": 141.42, \"radius\": 300.0}}], \"airspace_recommendation\": \"REJECT\"}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"REJECT\",\n  \"reasons\": [\n    \"The mission involves targets within restricted airspace without the necessary approval, resulting in airspace violations.\",\n    \"The pre-computed airspace checks identified multiple VIOLATION statuses due to flying in restricted airspace without approval.\",\n    \"The airspace evaluation explicitly recommended 'REJECT'.\"\n  ],\n  \"citations\": [\n    \"Airspace rule: if any airspace_eval status == VIOLATION (controlled/restricted without approval), decision MUST be REJECT.\",\n    \"Airspace checks (pre-computed): target={'x': 1500.0, 'y': 0.0, 'z': 50.0} classification=restricted approval_required=True has_approval=False => status=VIOLATION\",\n    \"Airspace checks (pre-computed): target={'x': 1600.0, 'y': 100.0, 'z': 100.0} classification=restricted approval_required=True has_approval=False => status=VIOLATION\",\n    \"Mission: airspace_eval[0].status == 'VIOLATION'\",\n    \"Mission: airspace_eval[1].status == 'VIOLATION'\",\n    \"Airspace rule: If airspace_recommendation is REJECT -> final decision MUST be REJECT.\",\n    \"Mission: airspace_recommendation == 'REJECT'\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "REJECT",
        "reasons": [
          "The mission involves targets within restricted airspace without the necessary approval, resulting in airspace violations.",
          "The pre-computed airspace checks identified multiple VIOLATION statuses due to flying in restricted airspace without approval.",
          "The airspace evaluation explicitly recommended 'REJECT'."
        ],
        "citations": [
          "Airspace rule: if any airspace_eval status == VIOLATION (controlled/restricted without approval), decision MUST be REJECT.",
          "Airspace checks (pre-computed): target={'x': 1500.0, 'y': 0.0, 'z': 50.0} classification=restricted approval_required=True has_approval=False => status=VIOLATION",
          "Airspace checks (pre-computed): target={'x': 1600.0, 'y': 100.0, 'z': 100.0} classification=restricted approval_required=True has_approval=False => status=VIOLATION",
          "Mission: airspace_eval[0].status == 'VIOLATION'",
          "Mission: airspace_eval[1].status == 'VIOLATION'",
          "Airspace rule: If airspace_recommendation is REJECT -> final decision MUST be REJECT.",
          "Mission: airspace_recommendation == 'REJECT'"
        ]
      },
      "retrieved_constraints": []
    },
    {
      "test_case_id": "TC5_RestrictedAreaWithApproval",
      "description": "限制区域已审批：可在限制区内飞行",
      "expected_decision": "APPROVE",
      "llm_decision": "APPROVE",
      "mission": {
        "has_approval": true,
        "targets": [
          {
            "x": 1500.0,
            "y": 0.0,
            "z": 50.0
          },
          {
            "x": 1500.0,
            "y": 0.0,
            "z": 150.0
          }
        ],
        "target_xyz": {
          "x": 1500.0,
          "y": 0.0,
          "z": 50.0
        },
        "altitude_m": 50.0,
        "airspace_eval": [
          {
            "target": {
              "x": 1500.0,
              "y": 0.0,
              "z": 50.0
            },
            "classification": "restricted",
            "approval_required": true,
            "has_approval": true,
            "status": "OK",
            "zone": {
              "id": "restricted_area_military",
              "type": "restricted",
              "distance": 0.0,
              "radius": 300.0
            }
          },
          {
            "target": {
              "x": 1500.0,
              "y": 0.0,
              "z": 150.0
            },
            "classification": "restricted",
            "approval_required": true,
            "has_approval": true,
            "status": "OK",
            "zone": {
              "id": "restricted_area_military",
              "type": "restricted",
              "distance": 0.0,
              "radius": 300.0
            }
          }
        ],
        "airspace_recommendation": "APPROVE"
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\nAirspace checks (pre-computed):\n  - target={'x': 1500.0, 'y': 0.0, 'z': 50.0} classification=restricted approval_required=True has_approval=True => status=OK\n  - target={'x': 1500.0, 'y': 0.0, 'z': 150.0} classification=restricted approval_required=True has_approval=True => status=OK\nAirspace rule: if any airspace_eval status == VIOLATION (controlled/restricted without approval), decision MUST be REJECT. Boundary rule: altitude >= uncontrolled ceiling belongs to controlled airspace. If airspace_recommendation is REJECT -> final decision MUST be REJECT.\nNo geofence constraints provided; there is NO geofence violation and geofence must NOT be used to reject.\nMission: {\"has_approval\": true, \"targets\": [{\"x\": 1500.0, \"y\": 0.0, \"z\": 50.0}, {\"x\": 1500.0, \"y\": 0.0, \"z\": 150.0}], \"target_xyz\": {\"x\": 1500.0, \"y\": 0.0, \"z\": 50.0}, \"altitude_m\": 50.0, \"airspace_eval\": [{\"target\": {\"x\": 1500.0, \"y\": 0.0, \"z\": 50.0}, \"classification\": \"restricted\", \"approval_required\": true, \"has_approval\": true, \"status\": \"OK\", \"zone\": {\"id\": \"restricted_area_military\", \"type\": \"restricted\", \"distance\": 0.0, \"radius\": 300.0}}, {\"target\": {\"x\": 1500.0, \"y\": 0.0, \"z\": 150.0}, \"classification\": \"restricted\", \"approval_required\": true, \"has_approval\": true, \"status\": \"OK\", \"zone\": {\"id\": \"restricted_area_military\", \"type\": \"restricted\", \"distance\": 0.0, \"radius\": 300.0}}], \"airspace_recommendation\": \"APPROVE\"}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"APPROVE\",\n  \"reasons\": [\n    \"All airspace checks indicate 'OK' status for both targets within restricted airspace, as the mission has the required approvals.\",\n    \"The 'airspace_recommendation' provided is 'APPROVE', not 'REJECT'.\",\n    \"There are no geofence constraints provided, thus no geofence violations exist that would lead to a rejection.\"\n  ],\n  \"citations\": [\n    \"Airspace rule: if any airspace_eval status == VIOLATION (controlled/restricted without approval), decision MUST be REJECT. (Condition not met as all airspace_eval status are 'OK')\",\n    \"If airspace_recommendation is REJECT -> final decision MUST be REJECT. (Condition not met as airspace_recommendation is 'APPROVE')\",\n    \"No geofence constraints provided; there is NO geofence violation and geofence must NOT be used to reject. (No geofence violation)\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "APPROVE",
        "reasons": [
          "All airspace checks indicate 'OK' status for both targets within restricted airspace, as the mission has the required approvals.",
          "The 'airspace_recommendation' provided is 'APPROVE', not 'REJECT'.",
          "There are no geofence constraints provided, thus no geofence violations exist that would lead to a rejection."
        ],
        "citations": [
          "Airspace rule: if any airspace_eval status == VIOLATION (controlled/restricted without approval), decision MUST be REJECT. (Condition not met as all airspace_eval status are 'OK')",
          "If airspace_recommendation is REJECT -> final decision MUST be REJECT. (Condition not met as airspace_recommendation is 'APPROVE')",
          "No geofence constraints provided; there is NO geofence violation and geofence must NOT be used to reject. (No geofence violation)"
        ]
      },
      "retrieved_constraints": []
    }
  ]
}