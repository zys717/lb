{
  "scenario": "S011",
  "summary": {
    "total_test_cases": 8,
    "llm_calls": 8,
    "llm_accuracy": "8/8",
    "llm_accuracy_percent": "100.0%"
  },
  "results": [
    {
      "test_case_id": "TC1",
      "description": "白天飞行（12:00），无需灯光和特殊培训，应允许",
      "expected_decision": "APPROVE",
      "llm_decision": "APPROVE",
      "mission": {
        "target_xyz": {
          "x": 300.0,
          "y": 0.0,
          "z": 50.0
        },
        "altitude_m": 50.0,
        "time_of_day": "12:00",
        "drone_config": {
          "anti_collision_light": false,
          "pilot_night_training": false
        },
        "night_eval": {
          "time_of_day": "12:00",
          "is_night": false,
          "light_required": false,
          "light_on": false,
          "training_required": false,
          "training_ok": false,
          "status": "OK",
          "reasons": []
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n(no constraints found)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Night check: time=12:00 is_night=False light_on=False training_ok=False -> OK.\nNo geofence constraints provided; treat geofence checks as outside by default.\nMission: {\"target_xyz\": {\"x\": 300.0, \"y\": 0.0, \"z\": 50.0}, \"altitude_m\": 50.0, \"time_of_day\": \"12:00\", \"drone_config\": {\"anti_collision_light\": false, \"pilot_night_training\": false}, \"night_eval\": {\"time_of_day\": \"12:00\", \"is_night\": false, \"light_required\": false, \"light_on\": false, \"training_required\": false, \"training_ok\": false, \"status\": \"OK\", \"reasons\": []}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"APPROVE\",\n  \"reasons\": [\n    \"All auto_check statuses are 'OK'.\",\n    \"Geofence checks are treated as 'outside' by default as no geofence constraints were provided.\"\n  ],\n  \"citations\": [\n    \"Hard rules: Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\",\n    \"Auto checks: Night check status is OK.\",\n    \"No geofence constraints provided; treat geofence checks as outside by default.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "APPROVE",
        "reasons": [
          "All auto_check statuses are 'OK'.",
          "Geofence checks are treated as 'outside' by default as no geofence constraints were provided."
        ],
        "citations": [
          "Hard rules: Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.",
          "Auto checks: Night check status is OK.",
          "No geofence constraints provided; treat geofence checks as outside by default."
        ]
      },
      "retrieved_constraints": []
    },
    {
      "test_case_id": "TC2",
      "description": "夜间飞行（22:00）+灯光+培训，符合要求，应允许",
      "expected_decision": "APPROVE",
      "llm_decision": "APPROVE",
      "mission": {
        "target_xyz": {
          "x": 300.0,
          "y": 0.0,
          "z": 50.0
        },
        "altitude_m": 50.0,
        "time_of_day": "22:00",
        "drone_config": {
          "anti_collision_light": true,
          "pilot_night_training": true
        },
        "night_eval": {
          "time_of_day": "22:00",
          "is_night": true,
          "light_required": true,
          "light_on": true,
          "training_required": true,
          "training_ok": true,
          "status": "OK",
          "reasons": []
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n(no constraints found)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Night check: time=22:00 is_night=True light_on=True training_ok=True -> OK.\nNo geofence constraints provided; treat geofence checks as outside by default.\nMission: {\"target_xyz\": {\"x\": 300.0, \"y\": 0.0, \"z\": 50.0}, \"altitude_m\": 50.0, \"time_of_day\": \"22:00\", \"drone_config\": {\"anti_collision_light\": true, \"pilot_night_training\": true}, \"night_eval\": {\"time_of_day\": \"22:00\", \"is_night\": true, \"light_required\": true, \"light_on\": true, \"training_required\": true, \"training_ok\": true, \"status\": \"OK\", \"reasons\": []}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"APPROVE\",\n  \"reasons\": [\n    \"All auto_check statuses are OK.\",\n    \"The Night check status is OK, indicating all requirements for night flight (light on, pilot night training) are met.\",\n    \"Geofence checks are treated as outside by default as no constraints were provided.\"\n  ],\n  \"citations\": [\n    \"Hard rules: Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\",\n    \"Auto checks: Night check: time=22:00 is_night=True light_on=True training_ok=True -> OK.\",\n    \"No geofence constraints provided; treat geofence checks as outside by default.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "APPROVE",
        "reasons": [
          "All auto_check statuses are OK.",
          "The Night check status is OK, indicating all requirements for night flight (light on, pilot night training) are met.",
          "Geofence checks are treated as outside by default as no constraints were provided."
        ],
        "citations": [
          "Hard rules: Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.",
          "Auto checks: Night check: time=22:00 is_night=True light_on=True training_ok=True -> OK.",
          "No geofence constraints provided; treat geofence checks as outside by default."
        ]
      },
      "retrieved_constraints": []
    },
    {
      "test_case_id": "TC3",
      "description": "夜间飞行（22:00）但未开启灯光，违规，应拒绝",
      "expected_decision": "REJECT",
      "llm_decision": "REJECT",
      "mission": {
        "target_xyz": {
          "x": 300.0,
          "y": 0.0,
          "z": 50.0
        },
        "altitude_m": 50.0,
        "time_of_day": "22:00",
        "drone_config": {
          "anti_collision_light": false,
          "pilot_night_training": true
        },
        "night_eval": {
          "time_of_day": "22:00",
          "is_night": true,
          "light_required": true,
          "light_on": false,
          "training_required": true,
          "training_ok": true,
          "status": "VIOLATION",
          "reasons": [
            "Night flight requires anti-collision light ON."
          ]
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n(no constraints found)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Night check: time=22:00 is_night=True light_on=False training_ok=True -> VIOLATION.\nNo geofence constraints provided; treat geofence checks as outside by default.\nMission: {\"target_xyz\": {\"x\": 300.0, \"y\": 0.0, \"z\": 50.0}, \"altitude_m\": 50.0, \"time_of_day\": \"22:00\", \"drone_config\": {\"anti_collision_light\": false, \"pilot_night_training\": true}, \"night_eval\": {\"time_of_day\": \"22:00\", \"is_night\": true, \"light_required\": true, \"light_on\": false, \"training_required\": true, \"training_ok\": true, \"status\": \"VIOLATION\", \"reasons\": [\"Night flight requires anti-collision light ON.\"]}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"REJECT\",\n  \"reasons\": [\n    \"The mission's 'Night check' auto_check status is VIOLATION.\",\n    \"Night flight operations require the anti-collision light to be ON, but the drone's anti_collision_light is set to false.\",\n    \"According to hard rules, if any auto_check status is VIOLATION, the decision MUST be REJECT.\"\n  ],\n  \"citations\": [\n    \"Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT.\",\n    \"Auto checks: Night check: time=22:00 is_night=True light_on=False training_ok=True -> VIOLATION.\",\n    \"Mission.night_eval: {'status': 'VIOLATION', 'reasons': ['Night flight requires anti-collision light ON.']}\",\n    \"Mission.drone_config: {'anti_collision_light': false}\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "REJECT",
        "reasons": [
          "The mission's 'Night check' auto_check status is VIOLATION.",
          "Night flight operations require the anti-collision light to be ON, but the drone's anti_collision_light is set to false.",
          "According to hard rules, if any auto_check status is VIOLATION, the decision MUST be REJECT."
        ],
        "citations": [
          "Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT.",
          "Auto checks: Night check: time=22:00 is_night=True light_on=False training_ok=True -> VIOLATION.",
          "Mission.night_eval: {'status': 'VIOLATION', 'reasons': ['Night flight requires anti-collision light ON.']}",
          "Mission.drone_config: {'anti_collision_light': false}"
        ]
      },
      "retrieved_constraints": []
    },
    {
      "test_case_id": "TC4",
      "description": "夜间飞行（22:00）有灯光但操作员无夜间培训，违规（美国法规），应拒绝",
      "expected_decision": "REJECT",
      "llm_decision": "REJECT",
      "mission": {
        "target_xyz": {
          "x": 300.0,
          "y": 0.0,
          "z": 50.0
        },
        "altitude_m": 50.0,
        "time_of_day": "22:00",
        "drone_config": {
          "anti_collision_light": true,
          "pilot_night_training": false
        },
        "night_eval": {
          "time_of_day": "22:00",
          "is_night": true,
          "light_required": true,
          "light_on": true,
          "training_required": true,
          "training_ok": false,
          "status": "VIOLATION",
          "reasons": [
            "Night flight requires pilot night training completed."
          ]
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n(no constraints found)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Night check: time=22:00 is_night=True light_on=True training_ok=False -> VIOLATION.\nNo geofence constraints provided; treat geofence checks as outside by default.\nMission: {\"target_xyz\": {\"x\": 300.0, \"y\": 0.0, \"z\": 50.0}, \"altitude_m\": 50.0, \"time_of_day\": \"22:00\", \"drone_config\": {\"anti_collision_light\": true, \"pilot_night_training\": false}, \"night_eval\": {\"time_of_day\": \"22:00\", \"is_night\": true, \"light_required\": true, \"light_on\": true, \"training_required\": true, \"training_ok\": false, \"status\": \"VIOLATION\", \"reasons\": [\"Night flight requires pilot night training completed.\"]}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"REJECT\",\n  \"reasons\": [\n    \"The 'Night check' auto-check status is VIOLATION.\",\n    \"Night flight requires pilot night training, which is not completed for this mission.\"\n  ],\n  \"citations\": [\n    \"Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT.\",\n    \"Auto checks: Night check: time=22:00 is_night=True light_on=True training_ok=False -> VIOLATION.\",\n    \"Mission: night_eval.status: 'VIOLATION'\",\n    \"Mission: night_eval.reasons: ['Night flight requires pilot night training completed.']\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "REJECT",
        "reasons": [
          "The 'Night check' auto-check status is VIOLATION.",
          "Night flight requires pilot night training, which is not completed for this mission."
        ],
        "citations": [
          "Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT.",
          "Auto checks: Night check: time=22:00 is_night=True light_on=True training_ok=False -> VIOLATION.",
          "Mission: night_eval.status: 'VIOLATION'",
          "Mission: night_eval.reasons: ['Night flight requires pilot night training completed.']"
        ]
      },
      "retrieved_constraints": []
    },
    {
      "test_case_id": "TC5",
      "description": "Civil Twilight边界测试（18:29，日落前1分钟），仍为白天，应允许",
      "expected_decision": "APPROVE",
      "llm_decision": "APPROVE",
      "mission": {
        "target_xyz": {
          "x": 300.0,
          "y": 0.0,
          "z": 50.0
        },
        "altitude_m": 50.0,
        "time_of_day": "18:29",
        "drone_config": {
          "anti_collision_light": false,
          "pilot_night_training": false
        },
        "night_eval": {
          "time_of_day": "18:29",
          "is_night": false,
          "light_required": false,
          "light_on": false,
          "training_required": false,
          "training_ok": false,
          "status": "OK",
          "reasons": []
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n(no constraints found)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Night check: time=18:29 is_night=False light_on=False training_ok=False -> OK.\nNo geofence constraints provided; treat geofence checks as outside by default.\nMission: {\"target_xyz\": {\"x\": 300.0, \"y\": 0.0, \"z\": 50.0}, \"altitude_m\": 50.0, \"time_of_day\": \"18:29\", \"drone_config\": {\"anti_collision_light\": false, \"pilot_night_training\": false}, \"night_eval\": {\"time_of_day\": \"18:29\", \"is_night\": false, \"light_required\": false, \"light_on\": false, \"training_required\": false, \"training_ok\": false, \"status\": \"OK\", \"reasons\": []}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"APPROVE\",\n  \"reasons\": [\n    \"All auto_check statuses are OK.\",\n    \"The Night check status is OK.\",\n    \"Geofence checks are treated as outside by default.\"\n  ],\n  \"citations\": [\n    \"Hard rules: Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\",\n    \"Night check: time=18:29 is_night=False light_on=False training_ok=False -> OK.\",\n    \"No geofence constraints provided; treat geofence checks as outside by default.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "APPROVE",
        "reasons": [
          "All auto_check statuses are OK.",
          "The Night check status is OK.",
          "Geofence checks are treated as outside by default."
        ],
        "citations": [
          "Hard rules: Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.",
          "Night check: time=18:29 is_night=False light_on=False training_ok=False -> OK.",
          "No geofence constraints provided; treat geofence checks as outside by default."
        ]
      },
      "retrieved_constraints": []
    },
    {
      "test_case_id": "TC6",
      "description": "夜间开始时刻（18:30），进入夜间，无灯光应拒绝",
      "expected_decision": "REJECT",
      "llm_decision": "REJECT",
      "mission": {
        "target_xyz": {
          "x": 300.0,
          "y": 0.0,
          "z": 50.0
        },
        "altitude_m": 50.0,
        "time_of_day": "18:30",
        "drone_config": {
          "anti_collision_light": false,
          "pilot_night_training": true
        },
        "night_eval": {
          "time_of_day": "18:30",
          "is_night": true,
          "light_required": true,
          "light_on": false,
          "training_required": true,
          "training_ok": true,
          "status": "VIOLATION",
          "reasons": [
            "Night flight requires anti-collision light ON."
          ]
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n(no constraints found)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Night check: time=18:30 is_night=True light_on=False training_ok=True -> VIOLATION.\nNo geofence constraints provided; treat geofence checks as outside by default.\nMission: {\"target_xyz\": {\"x\": 300.0, \"y\": 0.0, \"z\": 50.0}, \"altitude_m\": 50.0, \"time_of_day\": \"18:30\", \"drone_config\": {\"anti_collision_light\": false, \"pilot_night_training\": true}, \"night_eval\": {\"time_of_day\": \"18:30\", \"is_night\": true, \"light_required\": true, \"light_on\": false, \"training_required\": true, \"training_ok\": true, \"status\": \"VIOLATION\", \"reasons\": [\"Night flight requires anti-collision light ON.\"]}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"REJECT\",\n  \"reasons\": [\n    \"The mission cannot be approved because an auto_check status is VIOLATION.\",\n    \"The 'Night check' auto-check resulted in a VIOLATION because the anti-collision light was off during a night flight, which is required.\",\n    \"Specifically, the drone_config specifies 'anti_collision_light': false, while the night_eval indicates 'light_required': true and 'light_on': false, leading to a VIOLATION.\"\n  ],\n  \"citations\": [\n    \"Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT.\",\n    \"Auto checks: Night check: time=18:30 is_night=True light_on=False training_ok=True -> VIOLATION.\",\n    \"Mission.night_eval.status: \\\"VIOLATION\\\"\",\n    \"Mission.night_eval.reasons: [\\\"Night flight requires anti-collision light ON.\\\"]\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "REJECT",
        "reasons": [
          "The mission cannot be approved because an auto_check status is VIOLATION.",
          "The 'Night check' auto-check resulted in a VIOLATION because the anti-collision light was off during a night flight, which is required.",
          "Specifically, the drone_config specifies 'anti_collision_light': false, while the night_eval indicates 'light_required': true and 'light_on': false, leading to a VIOLATION."
        ],
        "citations": [
          "Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT.",
          "Auto checks: Night check: time=18:30 is_night=True light_on=False training_ok=True -> VIOLATION.",
          "Mission.night_eval.status: \"VIOLATION\"",
          "Mission.night_eval.reasons: [\"Night flight requires anti-collision light ON.\"]"
        ]
      },
      "retrieved_constraints": []
    },
    {
      "test_case_id": "TC7",
      "description": "清晨边界测试（05:29，日出前1分钟），仍为夜间，无灯光应拒绝",
      "expected_decision": "REJECT",
      "llm_decision": "REJECT",
      "mission": {
        "target_xyz": {
          "x": 300.0,
          "y": 0.0,
          "z": 50.0
        },
        "altitude_m": 50.0,
        "time_of_day": "05:29",
        "drone_config": {
          "anti_collision_light": false,
          "pilot_night_training": true
        },
        "night_eval": {
          "time_of_day": "05:29",
          "is_night": true,
          "light_required": true,
          "light_on": false,
          "training_required": true,
          "training_ok": true,
          "status": "VIOLATION",
          "reasons": [
            "Night flight requires anti-collision light ON."
          ]
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n(no constraints found)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Night check: time=05:29 is_night=True light_on=False training_ok=True -> VIOLATION.\nNo geofence constraints provided; treat geofence checks as outside by default.\nMission: {\"target_xyz\": {\"x\": 300.0, \"y\": 0.0, \"z\": 50.0}, \"altitude_m\": 50.0, \"time_of_day\": \"05:29\", \"drone_config\": {\"anti_collision_light\": false, \"pilot_night_training\": true}, \"night_eval\": {\"time_of_day\": \"05:29\", \"is_night\": true, \"light_required\": true, \"light_on\": false, \"training_required\": true, \"training_ok\": true, \"status\": \"VIOLATION\", \"reasons\": [\"Night flight requires anti-collision light ON.\"]}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"REJECT\",\n  \"reasons\": [\n    \"The 'Night check' auto-check status is VIOLATION because night flight requires the anti-collision light to be ON, but 'light_on' is False.\",\n    \"According to hard rules, if any auto_check status is VIOLATION, the decision MUST be REJECT.\"\n  ],\n  \"citations\": [\n    \"Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT.\",\n    \"Auto checks: Night check: time=05:29 is_night=True light_on=False training_ok=True -> VIOLATION.\",\n    \"Mission: night_eval: status: 'VIOLATION', reasons: ['Night flight requires anti-collision light ON.']\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "REJECT",
        "reasons": [
          "The 'Night check' auto-check status is VIOLATION because night flight requires the anti-collision light to be ON, but 'light_on' is False.",
          "According to hard rules, if any auto_check status is VIOLATION, the decision MUST be REJECT."
        ],
        "citations": [
          "Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT.",
          "Auto checks: Night check: time=05:29 is_night=True light_on=False training_ok=True -> VIOLATION.",
          "Mission: night_eval: status: 'VIOLATION', reasons: ['Night flight requires anti-collision light ON.']"
        ]
      },
      "retrieved_constraints": []
    },
    {
      "test_case_id": "TC8",
      "description": "清晨Civil Twilight（05:30），夜间结束，无灯光应允许",
      "expected_decision": "APPROVE",
      "llm_decision": "APPROVE",
      "mission": {
        "target_xyz": {
          "x": 300.0,
          "y": 0.0,
          "z": 50.0
        },
        "altitude_m": 50.0,
        "time_of_day": "05:30",
        "drone_config": {
          "anti_collision_light": false,
          "pilot_night_training": false
        },
        "night_eval": {
          "time_of_day": "05:30",
          "is_night": false,
          "light_required": false,
          "light_on": false,
          "training_required": false,
          "training_ok": false,
          "status": "OK",
          "reasons": []
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n(no constraints found)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Night check: time=05:30 is_night=False light_on=False training_ok=False -> OK.\nNo geofence constraints provided; treat geofence checks as outside by default.\nMission: {\"target_xyz\": {\"x\": 300.0, \"y\": 0.0, \"z\": 50.0}, \"altitude_m\": 50.0, \"time_of_day\": \"05:30\", \"drone_config\": {\"anti_collision_light\": false, \"pilot_night_training\": false}, \"night_eval\": {\"time_of_day\": \"05:30\", \"is_night\": false, \"light_required\": false, \"light_on\": false, \"training_required\": false, \"training_ok\": false, \"status\": \"OK\", \"reasons\": []}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"APPROVE\",\n  \"reasons\": [\n    \"All auto-check statuses are OK.\",\n    \"The Night check status is OK.\",\n    \"No geofence constraints were provided, so geofence checks are treated as outside by default.\",\n    \"According to hard rules, if all auto-check statuses are OK and geofence checks are outside, the mission can be approved.\"\n  ],\n  \"citations\": [\n    \"Auto checks: - Night check: time=05:30 is_night=False light_on=False training_ok=False -> OK.\",\n    \"Hard rules: Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\",\n    \"No geofence constraints provided; treat geofence checks as outside by default.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "APPROVE",
        "reasons": [
          "All auto-check statuses are OK.",
          "The Night check status is OK.",
          "No geofence constraints were provided, so geofence checks are treated as outside by default.",
          "According to hard rules, if all auto-check statuses are OK and geofence checks are outside, the mission can be approved."
        ],
        "citations": [
          "Auto checks: - Night check: time=05:30 is_night=False light_on=False training_ok=False -> OK.",
          "Hard rules: Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.",
          "No geofence constraints provided; treat geofence checks as outside by default."
        ]
      },
      "retrieved_constraints": []
    }
  ]
}