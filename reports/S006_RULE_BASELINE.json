{
  "scenario": "S006",
  "summary": {
    "total_test_cases": 6,
    "llm_calls": 6,
    "llm_accuracy": "6/6",
    "llm_accuracy_percent": "100.0%"
  },
  "results": [
    {
      "test_case_id": "TC1",
      "description": "低高度飞行（50m），远低于限制，应允许",
      "expected_decision": "APPROVE",
      "llm_decision": "APPROVE",
      "mission": {
        "altitude_m": 50.0,
        "target_xyz": {
          "x": 100.0,
          "y": 0.0,
          "z": 50.0
        },
        "altitude_eval": {
          "mission_altitude": 50.0,
          "limit": 120.0,
          "status": "OK"
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n- Altitude: 120.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 50.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 70.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 119.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 1.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 120.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 0.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 125.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 5.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 150.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 30.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 100.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 20.0m (SOP S006_altitude_limit.jsonc)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Altitude check: mission_altitude=50.0 m vs limit=120.0 m -> OK.\nNo geofence constraints provided; treat geofence checks as outside by default.\nMission: {\"altitude_m\": 50.0, \"target_xyz\": {\"x\": 100.0, \"y\": 0.0, \"z\": 50.0}, \"altitude_eval\": {\"mission_altitude\": 50.0, \"limit\": 120.0, \"status\": \"OK\"}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"APPROVE\",\n  \"reasons\": [\n    \"All auto_check statuses are OK.\",\n    \"The mission altitude (50.0m) is within the allowed limit (120.0m).\",\n    \"No geofence constraints were provided, so geofence checks are considered outside by default, allowing approval.\"\n  ],\n  \"citations\": [\n    \"Altitude check: mission_altitude=50.0 m vs limit=120.0 m -> OK.\",\n    \"Hard rules: Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\",\n    \"No geofence constraints provided; treat geofence checks as outside by default.\",\n    \"SOP S006_altitude_limit.jsonc (limit=120.0m used in check)\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "APPROVE",
        "reasons": [
          "All auto_check statuses are OK.",
          "The mission altitude (50.0m) is within the allowed limit (120.0m).",
          "No geofence constraints were provided, so geofence checks are considered outside by default, allowing approval."
        ],
        "citations": [
          "Altitude check: mission_altitude=50.0 m vs limit=120.0 m -> OK.",
          "Hard rules: Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.",
          "No geofence constraints provided; treat geofence checks as outside by default.",
          "SOP S006_altitude_limit.jsonc (limit=120.0m used in check)"
        ]
      },
      "retrieved_constraints": [
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_scenario_parameters_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "50.0",
          "raw_unit": "m",
          "canonical_value": "50.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "70.0",
          "raw_unit": "m",
          "canonical_value": "70.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "119.0",
          "raw_unit": "m",
          "canonical_value": "119.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "1.0",
          "raw_unit": "m",
          "canonical_value": "1.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "125.0",
          "raw_unit": "m",
          "canonical_value": "125.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "5.0",
          "raw_unit": "m",
          "canonical_value": "5.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "150.0",
          "raw_unit": "m",
          "canonical_value": "150.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "30.0",
          "raw_unit": "m",
          "canonical_value": "30.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "100.0",
          "raw_unit": "m",
          "canonical_value": "100.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "20.0",
          "raw_unit": "m",
          "canonical_value": "20.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        }
      ]
    },
    {
      "test_case_id": "TC2",
      "description": "接近上限（119m），在允许范围内，应允许",
      "expected_decision": "APPROVE",
      "llm_decision": "APPROVE",
      "mission": {
        "altitude_m": 119.0,
        "target_xyz": {
          "x": 100.0,
          "y": 0.0,
          "z": 119.0
        },
        "altitude_eval": {
          "mission_altitude": 119.0,
          "limit": 120.0,
          "status": "OK"
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n- Altitude: 120.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 50.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 70.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 119.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 1.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 120.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 0.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 125.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 5.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 150.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 30.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 100.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 20.0m (SOP S006_altitude_limit.jsonc)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Altitude check: mission_altitude=119.0 m vs limit=120.0 m -> OK.\nNo geofence constraints provided; treat geofence checks as outside by default.\nMission: {\"altitude_m\": 119.0, \"target_xyz\": {\"x\": 100.0, \"y\": 0.0, \"z\": 119.0}, \"altitude_eval\": {\"mission_altitude\": 119.0, \"limit\": 120.0, \"status\": \"OK\"}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"APPROVE\",\n  \"reasons\": [\n    \"All automated checks returned an 'OK' status.\",\n    \"The mission altitude of 119.0 m is within the permitted limit of 120.0 m.\",\n    \"Geofence checks are considered outside by default as no geofence constraints were provided.\"\n  ],\n  \"citations\": [\n    \"Altitude check: mission_altitude=119.0 m vs limit=120.0 m -> OK.\",\n    \"Altitude: 120.0m (SOP S006_altitude_limit.jsonc)\",\n    \"No geofence constraints provided; treat geofence checks as outside by default.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "APPROVE",
        "reasons": [
          "All automated checks returned an 'OK' status.",
          "The mission altitude of 119.0 m is within the permitted limit of 120.0 m.",
          "Geofence checks are considered outside by default as no geofence constraints were provided."
        ],
        "citations": [
          "Altitude check: mission_altitude=119.0 m vs limit=120.0 m -> OK.",
          "Altitude: 120.0m (SOP S006_altitude_limit.jsonc)",
          "No geofence constraints provided; treat geofence checks as outside by default."
        ]
      },
      "retrieved_constraints": [
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_scenario_parameters_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "50.0",
          "raw_unit": "m",
          "canonical_value": "50.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "70.0",
          "raw_unit": "m",
          "canonical_value": "70.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "119.0",
          "raw_unit": "m",
          "canonical_value": "119.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "1.0",
          "raw_unit": "m",
          "canonical_value": "1.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "125.0",
          "raw_unit": "m",
          "canonical_value": "125.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "5.0",
          "raw_unit": "m",
          "canonical_value": "5.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "150.0",
          "raw_unit": "m",
          "canonical_value": "150.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "30.0",
          "raw_unit": "m",
          "canonical_value": "30.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "100.0",
          "raw_unit": "m",
          "canonical_value": "100.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "20.0",
          "raw_unit": "m",
          "canonical_value": "20.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        }
      ]
    },
    {
      "test_case_id": "TC3",
      "description": "边界值测试（120m），恰好到达限制，按中国法规应拒绝（120m以上为管制空域）",
      "expected_decision": "REJECT",
      "llm_decision": "REJECT",
      "mission": {
        "altitude_m": 120.0,
        "target_xyz": {
          "x": 100.0,
          "y": 0.0,
          "z": 120.0
        },
        "altitude_eval": {
          "mission_altitude": 120.0,
          "limit": 120.0,
          "status": "VIOLATION"
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n- Altitude: 120.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 50.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 70.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 119.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 1.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 120.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 0.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 125.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 5.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 150.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 30.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 100.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 20.0m (SOP S006_altitude_limit.jsonc)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Altitude check: mission_altitude=120.0 m vs limit=120.0 m -> VIOLATION.\nNo geofence constraints provided; treat geofence checks as outside by default.\nMission: {\"altitude_m\": 120.0, \"target_xyz\": {\"x\": 100.0, \"y\": 0.0, \"z\": 120.0}, \"altitude_eval\": {\"mission_altitude\": 120.0, \"limit\": 120.0, \"status\": \"VIOLATION\"}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"REJECT\",\n  \"reasons\": [\n    \"Mission altitude of 120.0m violates the altitude limit of 120.0m, resulting in an auto_check VIOLATION. According to hard rules, any auto_check VIOLATION mandates a REJECT decision.\"\n  ],\n  \"citations\": [\n    \"Altitude check: mission_altitude=120.0 m vs limit=120.0 m -> VIOLATION.\",\n    \"SOP S006_altitude_limit.jsonc (limit 120.0m)\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "REJECT",
        "reasons": [
          "Mission altitude of 120.0m violates the altitude limit of 120.0m, resulting in an auto_check VIOLATION. According to hard rules, any auto_check VIOLATION mandates a REJECT decision."
        ],
        "citations": [
          "Altitude check: mission_altitude=120.0 m vs limit=120.0 m -> VIOLATION.",
          "SOP S006_altitude_limit.jsonc (limit 120.0m)"
        ]
      },
      "retrieved_constraints": [
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_scenario_parameters_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "50.0",
          "raw_unit": "m",
          "canonical_value": "50.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "70.0",
          "raw_unit": "m",
          "canonical_value": "70.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "119.0",
          "raw_unit": "m",
          "canonical_value": "119.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "1.0",
          "raw_unit": "m",
          "canonical_value": "1.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "125.0",
          "raw_unit": "m",
          "canonical_value": "125.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "5.0",
          "raw_unit": "m",
          "canonical_value": "5.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "150.0",
          "raw_unit": "m",
          "canonical_value": "150.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "30.0",
          "raw_unit": "m",
          "canonical_value": "30.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "100.0",
          "raw_unit": "m",
          "canonical_value": "100.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "20.0",
          "raw_unit": "m",
          "canonical_value": "20.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        }
      ]
    },
    {
      "test_case_id": "TC4",
      "description": "轻微超限（125m），超过限制，应拒绝",
      "expected_decision": "REJECT",
      "llm_decision": "REJECT",
      "mission": {
        "altitude_m": 125.0,
        "target_xyz": {
          "x": 100.0,
          "y": 0.0,
          "z": 125.0
        },
        "altitude_eval": {
          "mission_altitude": 125.0,
          "limit": 120.0,
          "status": "VIOLATION"
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n- Altitude: 120.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 50.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 70.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 119.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 1.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 120.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 0.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 125.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 5.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 150.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 30.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 100.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 20.0m (SOP S006_altitude_limit.jsonc)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Altitude check: mission_altitude=125.0 m vs limit=120.0 m -> VIOLATION.\nNo geofence constraints provided; treat geofence checks as outside by default.\nMission: {\"altitude_m\": 125.0, \"target_xyz\": {\"x\": 100.0, \"y\": 0.0, \"z\": 125.0}, \"altitude_eval\": {\"mission_altitude\": 125.0, \"limit\": 120.0, \"status\": \"VIOLATION\"}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"REJECT\",\n  \"reasons\": [\n    \"The mission is rejected because the auto check for altitude detected a VIOLATION. The mission's requested altitude of 125.0m exceeds the permitted limit of 120.0m.\"\n  ],\n  \"citations\": [\n    \"Auto checks: Altitude check: mission_altitude=125.0 m vs limit=120.0 m -> VIOLATION.\",\n    \"Retrieved constraints: Altitude: 120.0m (SOP S006_altitude_limit.jsonc)\",\n    \"Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "REJECT",
        "reasons": [
          "The mission is rejected because the auto check for altitude detected a VIOLATION. The mission's requested altitude of 125.0m exceeds the permitted limit of 120.0m."
        ],
        "citations": [
          "Auto checks: Altitude check: mission_altitude=125.0 m vs limit=120.0 m -> VIOLATION.",
          "Retrieved constraints: Altitude: 120.0m (SOP S006_altitude_limit.jsonc)",
          "Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT."
        ]
      },
      "retrieved_constraints": [
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_scenario_parameters_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "50.0",
          "raw_unit": "m",
          "canonical_value": "50.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "70.0",
          "raw_unit": "m",
          "canonical_value": "70.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "119.0",
          "raw_unit": "m",
          "canonical_value": "119.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "1.0",
          "raw_unit": "m",
          "canonical_value": "1.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "125.0",
          "raw_unit": "m",
          "canonical_value": "125.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "5.0",
          "raw_unit": "m",
          "canonical_value": "5.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "150.0",
          "raw_unit": "m",
          "canonical_value": "150.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "30.0",
          "raw_unit": "m",
          "canonical_value": "30.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "100.0",
          "raw_unit": "m",
          "canonical_value": "100.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "20.0",
          "raw_unit": "m",
          "canonical_value": "20.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        }
      ]
    },
    {
      "test_case_id": "TC5",
      "description": "明显超限（150m），远超限制，应拒绝",
      "expected_decision": "REJECT",
      "llm_decision": "REJECT",
      "mission": {
        "altitude_m": 150.0,
        "target_xyz": {
          "x": 100.0,
          "y": 0.0,
          "z": 150.0
        },
        "altitude_eval": {
          "mission_altitude": 150.0,
          "limit": 120.0,
          "status": "VIOLATION"
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n- Altitude: 120.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 50.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 70.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 119.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 1.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 120.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 0.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 125.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 5.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 150.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 30.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 100.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 20.0m (SOP S006_altitude_limit.jsonc)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Altitude check: mission_altitude=150.0 m vs limit=120.0 m -> VIOLATION.\nNo geofence constraints provided; treat geofence checks as outside by default.\nMission: {\"altitude_m\": 150.0, \"target_xyz\": {\"x\": 100.0, \"y\": 0.0, \"z\": 150.0}, \"altitude_eval\": {\"mission_altitude\": 150.0, \"limit\": 120.0, \"status\": \"VIOLATION\"}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"REJECT\",\n  \"reasons\": [\n    \"Hard rule violation: An 'Altitude check' auto_check returned a 'VIOLATION' status. The mission altitude of 150.0 m exceeds the maximum allowed altitude limit of 120.0 m.\"\n  ],\n  \"citations\": [\n    \"SOP S006_altitude_limit.jsonc (Altitude limit: 120.0m)\",\n    \"Altitude check: mission_altitude=150.0 m vs limit=120.0 m -> VIOLATION\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "REJECT",
        "reasons": [
          "Hard rule violation: An 'Altitude check' auto_check returned a 'VIOLATION' status. The mission altitude of 150.0 m exceeds the maximum allowed altitude limit of 120.0 m."
        ],
        "citations": [
          "SOP S006_altitude_limit.jsonc (Altitude limit: 120.0m)",
          "Altitude check: mission_altitude=150.0 m vs limit=120.0 m -> VIOLATION"
        ]
      },
      "retrieved_constraints": [
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_scenario_parameters_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "50.0",
          "raw_unit": "m",
          "canonical_value": "50.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "70.0",
          "raw_unit": "m",
          "canonical_value": "70.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "119.0",
          "raw_unit": "m",
          "canonical_value": "119.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "1.0",
          "raw_unit": "m",
          "canonical_value": "1.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "125.0",
          "raw_unit": "m",
          "canonical_value": "125.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "5.0",
          "raw_unit": "m",
          "canonical_value": "5.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "150.0",
          "raw_unit": "m",
          "canonical_value": "150.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "30.0",
          "raw_unit": "m",
          "canonical_value": "30.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "100.0",
          "raw_unit": "m",
          "canonical_value": "100.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "20.0",
          "raw_unit": "m",
          "canonical_value": "20.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        }
      ]
    },
    {
      "test_case_id": "TC6",
      "description": "从高处下降到安全高度（100m），应允许",
      "expected_decision": "APPROVE",
      "llm_decision": "APPROVE",
      "mission": {
        "altitude_m": 100.0,
        "target_xyz": {
          "x": 100.0,
          "y": 0.0,
          "z": 100.0
        },
        "altitude_eval": {
          "mission_altitude": 100.0,
          "limit": 120.0,
          "status": "OK"
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n- Altitude: 120.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 50.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 70.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 119.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 1.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 120.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 0.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 125.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 5.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 150.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 30.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 100.0m (SOP S006_altitude_limit.jsonc)\n- Altitude: 20.0m (SOP S006_altitude_limit.jsonc)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Altitude check: mission_altitude=100.0 m vs limit=120.0 m -> OK.\nNo geofence constraints provided; treat geofence checks as outside by default.\nMission: {\"altitude_m\": 100.0, \"target_xyz\": {\"x\": 100.0, \"y\": 0.0, \"z\": 100.0}, \"altitude_eval\": {\"mission_altitude\": 100.0, \"limit\": 120.0, \"status\": \"OK\"}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"APPROVE\",\n  \"reasons\": [\n    \"All auto_check statuses are OK.\",\n    \"No geofence constraints were provided, so geofence checks are treated as outside by default.\"\n  ],\n  \"citations\": [\n    \"Altitude check: mission_altitude=100.0 m vs limit=120.0 m -> OK (SOP S006_altitude_limit.jsonc)\",\n    \"No geofence constraints provided; treat geofence checks as outside by default.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "APPROVE",
        "reasons": [
          "All auto_check statuses are OK.",
          "No geofence constraints were provided, so geofence checks are treated as outside by default."
        ],
        "citations": [
          "Altitude check: mission_altitude=100.0 m vs limit=120.0 m -> OK (SOP S006_altitude_limit.jsonc)",
          "No geofence constraints provided; treat geofence checks as outside by default."
        ]
      },
      "retrieved_constraints": [
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_scenario_parameters_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "50.0",
          "raw_unit": "m",
          "canonical_value": "50.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "70.0",
          "raw_unit": "m",
          "canonical_value": "70.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "119.0",
          "raw_unit": "m",
          "canonical_value": "119.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "1.0",
          "raw_unit": "m",
          "canonical_value": "1.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "125.0",
          "raw_unit": "m",
          "canonical_value": "125.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "5.0",
          "raw_unit": "m",
          "canonical_value": "5.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "150.0",
          "raw_unit": "m",
          "canonical_value": "150.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "30.0",
          "raw_unit": "m",
          "canonical_value": "30.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "100.0",
          "raw_unit": "m",
          "canonical_value": "100.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_target_altitude_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S006_altitude_limit.jsonc",
          "raw_value": "20.0",
          "raw_unit": "m",
          "canonical_value": "20.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S006_altitude_limit.jsonc",
          "constraint_id": "S006_altitude_limit_test_cases_test_points_altitude_margin"
        }
      ]
    }
  ]
}