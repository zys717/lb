{
  "scenario": "S007",
  "summary": {
    "total_test_cases": 8,
    "llm_calls": 8,
    "llm_accuracy": "8/8",
    "llm_accuracy_percent": "100.0%"
  },
  "results": [
    {
      "test_case_id": "TC1",
      "description": "城市核心区内，低高度（50m），应允许",
      "expected_decision": "APPROVE",
      "llm_decision": "APPROVE",
      "mission": {
        "altitude_m": 50.0,
        "target_xyz": {
          "x": 500.0,
          "y": 0.0,
          "z": 50.0
        },
        "altitude_eval": {
          "mission_altitude": 50.0,
          "limit": 60.0,
          "status": "OK"
        },
        "altitude_zone": {
          "id": "urban_core",
          "limit": 60.0
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n- Altitude: 1.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 50.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 60.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 70.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 80.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 90.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 110.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 120.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 60.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 90.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 120.0m (SOP S007_zone_altitude_limits.jsonc)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Altitude check: mission_altitude=50.0 m vs limit=60.0 m -> OK.\nNo geofence constraints provided; treat geofence checks as outside by default.\nAltitude zone applied: urban_core (limit 60.0m).\nMission: {\"altitude_m\": 50.0, \"target_xyz\": {\"x\": 500.0, \"y\": 0.0, \"z\": 50.0}, \"altitude_eval\": {\"mission_altitude\": 50.0, \"limit\": 60.0, \"status\": \"OK\"}, \"altitude_zone\": {\"id\": \"urban_core\", \"limit\": 60.0}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"APPROVE\",\n  \"reasons\": [\n    \"All automatic checks passed successfully.\",\n    \"The mission altitude of 50.0m is within the allowed limit of 60.0m for the 'urban_core' altitude zone.\",\n    \"Geofence checks are considered 'outside' as no geofence constraints were provided.\"\n  ],\n  \"citations\": [\n    \"Auto checks: Altitude check: mission_altitude=50.0 m vs limit=60.0 m -> OK.\",\n    \"Altitude zone applied: urban_core (limit 60.0m).\",\n    \"No geofence constraints provided; treat geofence checks as outside by default.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "APPROVE",
        "reasons": [
          "All automatic checks passed successfully.",
          "The mission altitude of 50.0m is within the allowed limit of 60.0m for the 'urban_core' altitude zone.",
          "Geofence checks are considered 'outside' as no geofence constraints were provided."
        ],
        "citations": [
          "Auto checks: Altitude check: mission_altitude=50.0 m vs limit=60.0 m -> OK.",
          "Altitude zone applied: urban_core (limit 60.0m).",
          "No geofence constraints provided; treat geofence checks as outside by default."
        ]
      },
      "retrieved_constraints": [
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "1.0",
          "raw_unit": "m",
          "canonical_value": "1.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_scenario_parameters_zone_based_altitude_limits"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "50.0",
          "raw_unit": "m",
          "canonical_value": "50.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "60.0",
          "raw_unit": "m",
          "canonical_value": "60.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "70.0",
          "raw_unit": "m",
          "canonical_value": "70.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "80.0",
          "raw_unit": "m",
          "canonical_value": "80.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "90.0",
          "raw_unit": "m",
          "canonical_value": "90.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "110.0",
          "raw_unit": "m",
          "canonical_value": "110.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "60.0",
          "raw_unit": "m",
          "canonical_value": "60.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "90.0",
          "raw_unit": "m",
          "canonical_value": "90.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        }
      ]
    },
    {
      "test_case_id": "TC2",
      "description": "城市核心区内，边界值（60m），应拒绝",
      "expected_decision": "REJECT",
      "llm_decision": "REJECT",
      "mission": {
        "altitude_m": 60.0,
        "target_xyz": {
          "x": 500.0,
          "y": 0.0,
          "z": 60.0
        },
        "altitude_eval": {
          "mission_altitude": 60.0,
          "limit": 60.0,
          "status": "VIOLATION"
        },
        "altitude_zone": {
          "id": "urban_core",
          "limit": 60.0
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n- Altitude: 1.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 50.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 60.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 70.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 80.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 90.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 110.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 120.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 60.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 90.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 120.0m (SOP S007_zone_altitude_limits.jsonc)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Altitude check: mission_altitude=60.0 m vs limit=60.0 m -> VIOLATION.\nNo geofence constraints provided; treat geofence checks as outside by default.\nAltitude zone applied: urban_core (limit 60.0m).\nMission: {\"altitude_m\": 60.0, \"target_xyz\": {\"x\": 500.0, \"y\": 0.0, \"z\": 60.0}, \"altitude_eval\": {\"mission_altitude\": 60.0, \"limit\": 60.0, \"status\": \"VIOLATION\"}, \"altitude_zone\": {\"id\": \"urban_core\", \"limit\": 60.0}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"REJECT\",\n  \"reasons\": [\n    \"The mission was rejected because an 'auto_check' reported a VIOLATION status.\",\n    \"The Altitude check indicated a VIOLATION: mission_altitude (60.0 m) violated the zone limit (60.0 m).\"\n  ],\n  \"citations\": [\n    \"Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT.\",\n    \"Auto checks: Altitude check: mission_altitude=60.0 m vs limit=60.0 m -> VIOLATION.\",\n    \"Altitude zone applied: urban_core (limit 60.0m) (SOP S007_zone_altitude_limits.jsonc).\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "REJECT",
        "reasons": [
          "The mission was rejected because an 'auto_check' reported a VIOLATION status.",
          "The Altitude check indicated a VIOLATION: mission_altitude (60.0 m) violated the zone limit (60.0 m)."
        ],
        "citations": [
          "Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT.",
          "Auto checks: Altitude check: mission_altitude=60.0 m vs limit=60.0 m -> VIOLATION.",
          "Altitude zone applied: urban_core (limit 60.0m) (SOP S007_zone_altitude_limits.jsonc)."
        ]
      },
      "retrieved_constraints": [
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "1.0",
          "raw_unit": "m",
          "canonical_value": "1.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_scenario_parameters_zone_based_altitude_limits"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "50.0",
          "raw_unit": "m",
          "canonical_value": "50.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "60.0",
          "raw_unit": "m",
          "canonical_value": "60.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "70.0",
          "raw_unit": "m",
          "canonical_value": "70.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "80.0",
          "raw_unit": "m",
          "canonical_value": "80.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "90.0",
          "raw_unit": "m",
          "canonical_value": "90.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "110.0",
          "raw_unit": "m",
          "canonical_value": "110.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "60.0",
          "raw_unit": "m",
          "canonical_value": "60.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "90.0",
          "raw_unit": "m",
          "canonical_value": "90.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        }
      ]
    },
    {
      "test_case_id": "TC3",
      "description": "城市核心区内，超限（70m），应拒绝",
      "expected_decision": "REJECT",
      "llm_decision": "REJECT",
      "mission": {
        "altitude_m": 70.0,
        "target_xyz": {
          "x": 500.0,
          "y": 0.0,
          "z": 70.0
        },
        "altitude_eval": {
          "mission_altitude": 70.0,
          "limit": 60.0,
          "status": "VIOLATION"
        },
        "altitude_zone": {
          "id": "urban_core",
          "limit": 60.0
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n- Altitude: 1.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 50.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 60.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 70.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 80.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 90.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 110.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 120.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 60.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 90.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 120.0m (SOP S007_zone_altitude_limits.jsonc)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Altitude check: mission_altitude=70.0 m vs limit=60.0 m -> VIOLATION.\nNo geofence constraints provided; treat geofence checks as outside by default.\nAltitude zone applied: urban_core (limit 60.0m).\nMission: {\"altitude_m\": 70.0, \"target_xyz\": {\"x\": 500.0, \"y\": 0.0, \"z\": 70.0}, \"altitude_eval\": {\"mission_altitude\": 70.0, \"limit\": 60.0, \"status\": \"VIOLATION\"}, \"altitude_zone\": {\"id\": \"urban_core\", \"limit\": 60.0}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"REJECT\",\n  \"reasons\": [\n    \"The mission's requested altitude of 70.0m violates the maximum allowed altitude of 60.0m for the 'urban_core' altitude zone.\",\n    \"According to hard rules, any 'VIOLATION' status in auto_checks results in a REJECT decision.\"\n  ],\n  \"citations\": [\n    \"Auto checks: Altitude check: mission_altitude=70.0 m vs limit=60.0 m -> VIOLATION.\",\n    \"Altitude zone applied: urban_core (limit 60.0m).\",\n    \"SOP S007_zone_altitude_limits.jsonc (limit 60.0m)\",\n    \"Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "REJECT",
        "reasons": [
          "The mission's requested altitude of 70.0m violates the maximum allowed altitude of 60.0m for the 'urban_core' altitude zone.",
          "According to hard rules, any 'VIOLATION' status in auto_checks results in a REJECT decision."
        ],
        "citations": [
          "Auto checks: Altitude check: mission_altitude=70.0 m vs limit=60.0 m -> VIOLATION.",
          "Altitude zone applied: urban_core (limit 60.0m).",
          "SOP S007_zone_altitude_limits.jsonc (limit 60.0m)",
          "Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT."
        ]
      },
      "retrieved_constraints": [
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "1.0",
          "raw_unit": "m",
          "canonical_value": "1.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_scenario_parameters_zone_based_altitude_limits"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "50.0",
          "raw_unit": "m",
          "canonical_value": "50.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "60.0",
          "raw_unit": "m",
          "canonical_value": "60.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "70.0",
          "raw_unit": "m",
          "canonical_value": "70.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "80.0",
          "raw_unit": "m",
          "canonical_value": "80.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "90.0",
          "raw_unit": "m",
          "canonical_value": "90.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "110.0",
          "raw_unit": "m",
          "canonical_value": "110.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "60.0",
          "raw_unit": "m",
          "canonical_value": "60.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "90.0",
          "raw_unit": "m",
          "canonical_value": "90.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        }
      ]
    },
    {
      "test_case_id": "TC4",
      "description": "城市边缘区内，合规（80m），应允许",
      "expected_decision": "APPROVE",
      "llm_decision": "APPROVE",
      "mission": {
        "altitude_m": 80.0,
        "target_xyz": {
          "x": 1500.0,
          "y": 0.0,
          "z": 80.0
        },
        "altitude_eval": {
          "mission_altitude": 80.0,
          "limit": 90.0,
          "status": "OK"
        },
        "altitude_zone": {
          "id": "urban_edge",
          "limit": 90.0
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n- Altitude: 1.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 50.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 60.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 70.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 80.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 90.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 110.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 120.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 60.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 90.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 120.0m (SOP S007_zone_altitude_limits.jsonc)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Altitude check: mission_altitude=80.0 m vs limit=90.0 m -> OK.\nNo geofence constraints provided; treat geofence checks as outside by default.\nAltitude zone applied: urban_edge (limit 90.0m).\nMission: {\"altitude_m\": 80.0, \"target_xyz\": {\"x\": 1500.0, \"y\": 0.0, \"z\": 80.0}, \"altitude_eval\": {\"mission_altitude\": 80.0, \"limit\": 90.0, \"status\": \"OK\"}, \"altitude_zone\": {\"id\": \"urban_edge\", \"limit\": 90.0}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"APPROVE\",\n  \"reasons\": [\n    \"All auto_check statuses are OK.\",\n    \"The mission altitude (80.0m) is within the allowed limit (90.0m) for the urban_edge zone.\",\n    \"No geofence constraints were provided, defaulting to outside (no violation).\"\n  ],\n  \"citations\": [\n    \"Altitude check: mission_altitude=80.0 m vs limit=90.0 m -> OK.\",\n    \"Altitude zone applied: urban_edge (limit 90.0m).\",\n    \"Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "APPROVE",
        "reasons": [
          "All auto_check statuses are OK.",
          "The mission altitude (80.0m) is within the allowed limit (90.0m) for the urban_edge zone.",
          "No geofence constraints were provided, defaulting to outside (no violation)."
        ],
        "citations": [
          "Altitude check: mission_altitude=80.0 m vs limit=90.0 m -> OK.",
          "Altitude zone applied: urban_edge (limit 90.0m).",
          "Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE."
        ]
      },
      "retrieved_constraints": [
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "1.0",
          "raw_unit": "m",
          "canonical_value": "1.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_scenario_parameters_zone_based_altitude_limits"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "50.0",
          "raw_unit": "m",
          "canonical_value": "50.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "60.0",
          "raw_unit": "m",
          "canonical_value": "60.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "70.0",
          "raw_unit": "m",
          "canonical_value": "70.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "80.0",
          "raw_unit": "m",
          "canonical_value": "80.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "90.0",
          "raw_unit": "m",
          "canonical_value": "90.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "110.0",
          "raw_unit": "m",
          "canonical_value": "110.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "60.0",
          "raw_unit": "m",
          "canonical_value": "60.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "90.0",
          "raw_unit": "m",
          "canonical_value": "90.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        }
      ]
    },
    {
      "test_case_id": "TC5",
      "description": "城市边缘区内，边界值（90m），应拒绝",
      "expected_decision": "REJECT",
      "llm_decision": "REJECT",
      "mission": {
        "altitude_m": 90.0,
        "target_xyz": {
          "x": 1500.0,
          "y": 0.0,
          "z": 90.0
        },
        "altitude_eval": {
          "mission_altitude": 90.0,
          "limit": 90.0,
          "status": "VIOLATION"
        },
        "altitude_zone": {
          "id": "urban_edge",
          "limit": 90.0
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n- Altitude: 1.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 50.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 60.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 70.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 80.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 90.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 110.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 120.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 60.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 90.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 120.0m (SOP S007_zone_altitude_limits.jsonc)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Altitude check: mission_altitude=90.0 m vs limit=90.0 m -> VIOLATION.\nNo geofence constraints provided; treat geofence checks as outside by default.\nAltitude zone applied: urban_edge (limit 90.0m).\nMission: {\"altitude_m\": 90.0, \"target_xyz\": {\"x\": 1500.0, \"y\": 0.0, \"z\": 90.0}, \"altitude_eval\": {\"mission_altitude\": 90.0, \"limit\": 90.0, \"status\": \"VIOLATION\"}, \"altitude_zone\": {\"id\": \"urban_edge\", \"limit\": 90.0}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"REJECT\",\n  \"reasons\": [\n    \"The Altitude check resulted in a VIOLATION.\",\n    \"According to hard rules, if any auto_check status is VIOLATION, the decision MUST be REJECT.\"\n  ],\n  \"citations\": [\n    \"Altitude check: mission_altitude=90.0 m vs limit=90.0 m -> VIOLATION.\",\n    \"Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "REJECT",
        "reasons": [
          "The Altitude check resulted in a VIOLATION.",
          "According to hard rules, if any auto_check status is VIOLATION, the decision MUST be REJECT."
        ],
        "citations": [
          "Altitude check: mission_altitude=90.0 m vs limit=90.0 m -> VIOLATION.",
          "Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT."
        ]
      },
      "retrieved_constraints": [
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "1.0",
          "raw_unit": "m",
          "canonical_value": "1.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_scenario_parameters_zone_based_altitude_limits"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "50.0",
          "raw_unit": "m",
          "canonical_value": "50.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "60.0",
          "raw_unit": "m",
          "canonical_value": "60.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "70.0",
          "raw_unit": "m",
          "canonical_value": "70.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "80.0",
          "raw_unit": "m",
          "canonical_value": "80.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "90.0",
          "raw_unit": "m",
          "canonical_value": "90.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "110.0",
          "raw_unit": "m",
          "canonical_value": "110.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "60.0",
          "raw_unit": "m",
          "canonical_value": "60.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "90.0",
          "raw_unit": "m",
          "canonical_value": "90.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        }
      ]
    },
    {
      "test_case_id": "TC6",
      "description": "郊区，合规（110m），应允许",
      "expected_decision": "APPROVE",
      "llm_decision": "APPROVE",
      "mission": {
        "altitude_m": 110.0,
        "target_xyz": {
          "x": 2500.0,
          "y": 0.0,
          "z": 110.0
        },
        "altitude_eval": {
          "mission_altitude": 110.0,
          "limit": 120.0,
          "status": "OK"
        },
        "altitude_zone": {
          "id": "suburban",
          "limit": 120.0
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n- Altitude: 1.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 50.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 60.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 70.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 80.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 90.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 110.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 120.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 60.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 90.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 120.0m (SOP S007_zone_altitude_limits.jsonc)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Altitude check: mission_altitude=110.0 m vs limit=120.0 m -> OK.\nNo geofence constraints provided; treat geofence checks as outside by default.\nAltitude zone applied: suburban (limit 120.0m).\nMission: {\"altitude_m\": 110.0, \"target_xyz\": {\"x\": 2500.0, \"y\": 0.0, \"z\": 110.0}, \"altitude_eval\": {\"mission_altitude\": 110.0, \"limit\": 120.0, \"status\": \"OK\"}, \"altitude_zone\": {\"id\": \"suburban\", \"limit\": 120.0}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"APPROVE\",\n  \"reasons\": [\n    \"All auto-checks passed.\",\n    \"Mission altitude (110.0m) is within the allowed limit for the suburban zone (120.0m).\",\n    \"Geofence checks are treated as outside by default as no constraints were provided.\"\n  ],\n  \"citations\": [\n    \"Altitude check: mission_altitude=110.0 m vs limit=120.0 m -> OK.\",\n    \"SOP S007_zone_altitude_limits.jsonc (Suburban zone limit 120.0m)\",\n    \"No geofence constraints provided; treat geofence checks as outside by default.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "APPROVE",
        "reasons": [
          "All auto-checks passed.",
          "Mission altitude (110.0m) is within the allowed limit for the suburban zone (120.0m).",
          "Geofence checks are treated as outside by default as no constraints were provided."
        ],
        "citations": [
          "Altitude check: mission_altitude=110.0 m vs limit=120.0 m -> OK.",
          "SOP S007_zone_altitude_limits.jsonc (Suburban zone limit 120.0m)",
          "No geofence constraints provided; treat geofence checks as outside by default."
        ]
      },
      "retrieved_constraints": [
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "1.0",
          "raw_unit": "m",
          "canonical_value": "1.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_scenario_parameters_zone_based_altitude_limits"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "50.0",
          "raw_unit": "m",
          "canonical_value": "50.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "60.0",
          "raw_unit": "m",
          "canonical_value": "60.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "70.0",
          "raw_unit": "m",
          "canonical_value": "70.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "80.0",
          "raw_unit": "m",
          "canonical_value": "80.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "90.0",
          "raw_unit": "m",
          "canonical_value": "90.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "110.0",
          "raw_unit": "m",
          "canonical_value": "110.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "60.0",
          "raw_unit": "m",
          "canonical_value": "60.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "90.0",
          "raw_unit": "m",
          "canonical_value": "90.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        }
      ]
    },
    {
      "test_case_id": "TC7",
      "description": "郊区，边界值（120m），应拒绝",
      "expected_decision": "REJECT",
      "llm_decision": "REJECT",
      "mission": {
        "altitude_m": 120.0,
        "target_xyz": {
          "x": 2500.0,
          "y": 0.0,
          "z": 120.0
        },
        "altitude_eval": {
          "mission_altitude": 120.0,
          "limit": 120.0,
          "status": "VIOLATION"
        },
        "altitude_zone": {
          "id": "suburban",
          "limit": 120.0
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n- Altitude: 1.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 50.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 60.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 70.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 80.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 90.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 110.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 120.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 60.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 90.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 120.0m (SOP S007_zone_altitude_limits.jsonc)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Altitude check: mission_altitude=120.0 m vs limit=120.0 m -> VIOLATION.\nNo geofence constraints provided; treat geofence checks as outside by default.\nAltitude zone applied: suburban (limit 120.0m).\nMission: {\"altitude_m\": 120.0, \"target_xyz\": {\"x\": 2500.0, \"y\": 0.0, \"z\": 120.0}, \"altitude_eval\": {\"mission_altitude\": 120.0, \"limit\": 120.0, \"status\": \"VIOLATION\"}, \"altitude_zone\": {\"id\": \"suburban\", \"limit\": 120.0}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"REJECT\",\n  \"reasons\": [\n    \"The mission altitude check resulted in a VIOLATION.\",\n    \"The mission altitude (120.0m) matches the limit (120.0m) for the suburban zone, which the auto-check system has determined to be a violation.\",\n    \"Hard rules mandate a REJECT decision if any auto-check status is a VIOLATION.\"\n  ],\n  \"citations\": [\n    \"Auto checks: Altitude check: mission_altitude=120.0 m vs limit=120.0 m -> VIOLATION.\",\n    \"Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT.\",\n    \"Altitude zone applied: suburban (limit 120.0m) as per SOP S007_zone_altitude_limits.jsonc.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "REJECT",
        "reasons": [
          "The mission altitude check resulted in a VIOLATION.",
          "The mission altitude (120.0m) matches the limit (120.0m) for the suburban zone, which the auto-check system has determined to be a violation.",
          "Hard rules mandate a REJECT decision if any auto-check status is a VIOLATION."
        ],
        "citations": [
          "Auto checks: Altitude check: mission_altitude=120.0 m vs limit=120.0 m -> VIOLATION.",
          "Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT.",
          "Altitude zone applied: suburban (limit 120.0m) as per SOP S007_zone_altitude_limits.jsonc."
        ]
      },
      "retrieved_constraints": [
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "1.0",
          "raw_unit": "m",
          "canonical_value": "1.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_scenario_parameters_zone_based_altitude_limits"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "50.0",
          "raw_unit": "m",
          "canonical_value": "50.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "60.0",
          "raw_unit": "m",
          "canonical_value": "60.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "70.0",
          "raw_unit": "m",
          "canonical_value": "70.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "80.0",
          "raw_unit": "m",
          "canonical_value": "80.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "90.0",
          "raw_unit": "m",
          "canonical_value": "90.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "110.0",
          "raw_unit": "m",
          "canonical_value": "110.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "60.0",
          "raw_unit": "m",
          "canonical_value": "60.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "90.0",
          "raw_unit": "m",
          "canonical_value": "90.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        }
      ]
    },
    {
      "test_case_id": "TC8",
      "description": "跨区飞行：从郊区到城市核心区，高度70m（在郊区合规，但目标位置在核心区超限），应拒绝",
      "expected_decision": "REJECT",
      "llm_decision": "REJECT",
      "mission": {
        "target_xyz": {
          "x": 500.0,
          "y": 0.0,
          "z": 70.0
        },
        "altitude_m": 70.0,
        "altitude_eval": {
          "mission_altitude": 70.0,
          "limit": 60.0,
          "status": "VIOLATION"
        },
        "altitude_zone": {
          "id": "urban_core",
          "limit": 60.0
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n- Altitude: 1.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 50.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 60.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 70.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 80.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 90.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 110.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 10.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 120.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 0.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 60.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 90.0m (SOP S007_zone_altitude_limits.jsonc)\n- Altitude: 120.0m (SOP S007_zone_altitude_limits.jsonc)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Altitude check: mission_altitude=70.0 m vs limit=60.0 m -> VIOLATION.\nNo geofence constraints provided; treat geofence checks as outside by default.\nAltitude zone applied: urban_core (limit 60.0m).\nMission: {\"target_xyz\": {\"x\": 500.0, \"y\": 0.0, \"z\": 70.0}, \"altitude_m\": 70.0, \"altitude_eval\": {\"mission_altitude\": 70.0, \"limit\": 60.0, \"status\": \"VIOLATION\"}, \"altitude_zone\": {\"id\": \"urban_core\", \"limit\": 60.0}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"REJECT\",\n  \"reasons\": [\n    \"The mission altitude (70.0m) violates the maximum allowed altitude (60.0m) for the 'urban_core' altitude zone.\"\n  ],\n  \"citations\": [\n    \"Altitude check: mission_altitude=70.0 m vs limit=60.0 m -> VIOLATION.\",\n    \"Altitude zone applied: urban_core (limit 60.0m).\",\n    \"SOP S007_zone_altitude_limits.jsonc\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "REJECT",
        "reasons": [
          "The mission altitude (70.0m) violates the maximum allowed altitude (60.0m) for the 'urban_core' altitude zone."
        ],
        "citations": [
          "Altitude check: mission_altitude=70.0 m vs limit=60.0 m -> VIOLATION.",
          "Altitude zone applied: urban_core (limit 60.0m).",
          "SOP S007_zone_altitude_limits.jsonc"
        ]
      },
      "retrieved_constraints": [
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "1.0",
          "raw_unit": "m",
          "canonical_value": "1.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_scenario_parameters_zone_based_altitude_limits"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "50.0",
          "raw_unit": "m",
          "canonical_value": "50.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "60.0",
          "raw_unit": "m",
          "canonical_value": "60.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "70.0",
          "raw_unit": "m",
          "canonical_value": "70.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_excess"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "80.0",
          "raw_unit": "m",
          "canonical_value": "80.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "90.0",
          "raw_unit": "m",
          "canonical_value": "90.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "110.0",
          "raw_unit": "m",
          "canonical_value": "110.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "10.0",
          "raw_unit": "m",
          "canonical_value": "10.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_target_altitude"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "0.0",
          "raw_unit": "m",
          "canonical_value": "0.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_test_cases_test_points_altitude_margin"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "60.0",
          "raw_unit": "m",
          "canonical_value": "60.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "90.0",
          "raw_unit": "m",
          "canonical_value": "90.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        },
        {
          "concept": "Altitude",
          "source_type": "SOP",
          "source_ref": "S007_zone_altitude_limits.jsonc",
          "raw_value": "120.0",
          "raw_unit": "m",
          "canonical_value": "120.0",
          "canonical_unit": "m",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S007_zone_altitude_limits.jsonc",
          "constraint_id": "S007_zone_altitude_limits_altitude_zones_altitude_limit_agl"
        }
      ]
    }
  ]
}