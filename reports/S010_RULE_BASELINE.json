{
  "scenario": "S010",
  "summary": {
    "total_test_cases": 4,
    "llm_calls": 4,
    "llm_accuracy": "4/4",
    "llm_accuracy_percent": "100.0%"
  },
  "results": [
    {
      "test_case_id": "TC1",
      "description": "居民区内低速飞行（40 km/h），符合50 km/h限制，应允许",
      "expected_decision": "APPROVE",
      "llm_decision": "APPROVE",
      "mission": {
        "speed_mps": 11.11,
        "target_xyz": {
          "x": 300.0,
          "y": 300.0,
          "z": 50.0
        },
        "altitude_m": 50.0,
        "speed_eval": {
          "mission_speed": 11.11,
          "limit": 13.89,
          "status": "OK"
        },
        "speed_zone": {
          "id": "residential_zone",
          "limit": 13.89
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n- Speed: 27.77777777777778m/s (SOP S010_zone_speed_limits.jsonc)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Speed check: mission_speed=11.11 m/s vs limit=13.89 m/s -> OK.\nNo geofence constraints provided; treat geofence checks as outside by default.\nSpeed zone applied: residential_zone (limit 13.89 m/s).\nMission: {\"speed_mps\": 11.11, \"target_xyz\": {\"x\": 300.0, \"y\": 300.0, \"z\": 50.0}, \"altitude_m\": 50.0, \"speed_eval\": {\"mission_speed\": 11.11, \"limit\": 13.89, \"status\": \"OK\"}, \"speed_zone\": {\"id\": \"residential_zone\", \"limit\": 13.89}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"APPROVE\",\n  \"reasons\": [\n    \"All auto_check statuses are OK.\",\n    \"The speed check passed: mission speed (11.11 m/s) is within the applied residential_zone limit (13.89 m/s).\",\n    \"Geofence checks are treated as outside by default, as no specific geofence constraints were provided, satisfying the approval condition.\"\n  ],\n  \"citations\": [\n    \"Hard rules: 'if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.'\",\n    \"Auto check: 'Speed check: mission_speed=11.11 m/s vs limit=13.89 m/s -> OK.'\",\n    \"Speed zone applied: 'residential_zone (limit 13.89 m/s).'\",\n    \"Geofence: 'No geofence constraints provided; treat geofence checks as outside by default.'\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "APPROVE",
        "reasons": [
          "All auto_check statuses are OK.",
          "The speed check passed: mission speed (11.11 m/s) is within the applied residential_zone limit (13.89 m/s).",
          "Geofence checks are treated as outside by default, as no specific geofence constraints were provided, satisfying the approval condition."
        ],
        "citations": [
          "Hard rules: 'if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.'",
          "Auto check: 'Speed check: mission_speed=11.11 m/s vs limit=13.89 m/s -> OK.'",
          "Speed zone applied: 'residential_zone (limit 13.89 m/s).'",
          "Geofence: 'No geofence constraints provided; treat geofence checks as outside by default.'"
        ]
      },
      "retrieved_constraints": [
        {
          "concept": "Speed",
          "source_type": "SOP",
          "source_ref": "S010_zone_speed_limits.jsonc",
          "raw_value": "100.0",
          "raw_unit": "m/s",
          "canonical_value": "27.77777777777778",
          "canonical_unit": "m/s",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S010_zone_speed_limits.jsonc",
          "constraint_id": "S010_zone_speed_limits_scenario_parameters_global_speed_limit_kmh"
        }
      ]
    },
    {
      "test_case_id": "TC2",
      "description": "工业区内中速飞行（70 km/h），符合80 km/h限制，应允许",
      "expected_decision": "APPROVE",
      "llm_decision": "APPROVE",
      "mission": {
        "speed_mps": 19.44,
        "target_xyz": {
          "x": -400.0,
          "y": 0.0,
          "z": 50.0
        },
        "altitude_m": 50.0,
        "speed_eval": {
          "mission_speed": 19.44,
          "limit": 22.22,
          "status": "OK"
        },
        "speed_zone": {
          "id": "industrial_zone",
          "limit": 22.22
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n- Speed: 27.77777777777778m/s (SOP S010_zone_speed_limits.jsonc)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Speed check: mission_speed=19.44 m/s vs limit=22.22 m/s -> OK.\nNo geofence constraints provided; treat geofence checks as outside by default.\nSpeed zone applied: industrial_zone (limit 22.22 m/s).\nMission: {\"speed_mps\": 19.44, \"target_xyz\": {\"x\": -400.0, \"y\": 0.0, \"z\": 50.0}, \"altitude_m\": 50.0, \"speed_eval\": {\"mission_speed\": 19.44, \"limit\": 22.22, \"status\": \"OK\"}, \"speed_zone\": {\"id\": \"industrial_zone\", \"limit\": 22.22}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"APPROVE\",\n  \"reasons\": [\n    \"All auto_check statuses are OK.\",\n    \"The mission speed (19.44 m/s) is within the industrial_zone limit (22.22 m/s).\",\n    \"Geofence checks are treated as outside by default, as no constraints were provided.\"\n  ],\n  \"citations\": [\n    \"Hard rule: Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\",\n    \"Auto check: Speed check (mission_speed=19.44 m/s vs limit=22.22 m/s) -> OK.\",\n    \"Geofence constraint: No geofence constraints provided; treat geofence checks as outside by default.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "APPROVE",
        "reasons": [
          "All auto_check statuses are OK.",
          "The mission speed (19.44 m/s) is within the industrial_zone limit (22.22 m/s).",
          "Geofence checks are treated as outside by default, as no constraints were provided."
        ],
        "citations": [
          "Hard rule: Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.",
          "Auto check: Speed check (mission_speed=19.44 m/s vs limit=22.22 m/s) -> OK.",
          "Geofence constraint: No geofence constraints provided; treat geofence checks as outside by default."
        ]
      },
      "retrieved_constraints": [
        {
          "concept": "Speed",
          "source_type": "SOP",
          "source_ref": "S010_zone_speed_limits.jsonc",
          "raw_value": "100.0",
          "raw_unit": "m/s",
          "canonical_value": "27.77777777777778",
          "canonical_unit": "m/s",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S010_zone_speed_limits.jsonc",
          "constraint_id": "S010_zone_speed_limits_scenario_parameters_global_speed_limit_kmh"
        }
      ]
    },
    {
      "test_case_id": "TC3",
      "description": "居民区内超速飞行（60 km/h），超过50 km/h限制，应拒绝",
      "expected_decision": "REJECT",
      "llm_decision": "REJECT",
      "mission": {
        "speed_mps": 16.67,
        "target_xyz": {
          "x": 300.0,
          "y": 300.0,
          "z": 50.0
        },
        "altitude_m": 50.0,
        "speed_eval": {
          "mission_speed": 16.67,
          "limit": 13.89,
          "status": "VIOLATION"
        },
        "speed_zone": {
          "id": "residential_zone",
          "limit": 13.89
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n- Speed: 27.77777777777778m/s (SOP S010_zone_speed_limits.jsonc)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Speed check: mission_speed=16.67 m/s vs limit=13.89 m/s -> VIOLATION.\nNo geofence constraints provided; treat geofence checks as outside by default.\nSpeed zone applied: residential_zone (limit 13.89 m/s).\nMission: {\"speed_mps\": 16.67, \"target_xyz\": {\"x\": 300.0, \"y\": 300.0, \"z\": 50.0}, \"altitude_m\": 50.0, \"speed_eval\": {\"mission_speed\": 16.67, \"limit\": 13.89, \"status\": \"VIOLATION\"}, \"speed_zone\": {\"id\": \"residential_zone\", \"limit\": 13.89}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"REJECT\",\n  \"reasons\": [\n    \"The mission speed (16.67 m/s) exceeds the speed limit for the applied residential_zone (13.89 m/s), resulting in a VIOLATION status for the speed check.\",\n    \"According to hard rules, if any auto_check status is VIOLATION, the decision MUST be REJECT.\"\n  ],\n  \"citations\": [\n    \"Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT.\",\n    \"Auto checks: - Speed check: mission_speed=16.67 m/s vs limit=13.89 m/s -> VIOLATION.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "REJECT",
        "reasons": [
          "The mission speed (16.67 m/s) exceeds the speed limit for the applied residential_zone (13.89 m/s), resulting in a VIOLATION status for the speed check.",
          "According to hard rules, if any auto_check status is VIOLATION, the decision MUST be REJECT."
        ],
        "citations": [
          "Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT.",
          "Auto checks: - Speed check: mission_speed=16.67 m/s vs limit=13.89 m/s -> VIOLATION."
        ]
      },
      "retrieved_constraints": [
        {
          "concept": "Speed",
          "source_type": "SOP",
          "source_ref": "S010_zone_speed_limits.jsonc",
          "raw_value": "100.0",
          "raw_unit": "m/s",
          "canonical_value": "27.77777777777778",
          "canonical_unit": "m/s",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S010_zone_speed_limits.jsonc",
          "constraint_id": "S010_zone_speed_limits_scenario_parameters_global_speed_limit_kmh"
        }
      ]
    },
    {
      "test_case_id": "TC4",
      "description": "开阔区高速飞行（90 km/h），符合100 km/h全局限制，应允许",
      "expected_decision": "APPROVE",
      "llm_decision": "APPROVE",
      "mission": {
        "speed_mps": 25.0,
        "target_xyz": {
          "x": 500.0,
          "y": 500.0,
          "z": 50.0
        },
        "altitude_m": 50.0,
        "speed_eval": {
          "mission_speed": 25.0,
          "limit": 27.78,
          "status": "OK"
        },
        "speed_zone": {
          "id": "open_area",
          "limit": 27.78
        }
      },
      "prompt": "You are a dispatch AI. Decide APPROVE or REJECT with cited constraints.\nRetrieved constraints:\n- Speed: 27.77777777777778m/s (SOP S010_zone_speed_limits.jsonc)\nHard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\nAuto checks:\n- Speed check: mission_speed=25.0 m/s vs limit=27.78 m/s -> OK.\nNo geofence constraints provided; treat geofence checks as outside by default.\nSpeed zone applied: open_area (limit 27.78 m/s).\nMission: {\"speed_mps\": 25.0, \"target_xyz\": {\"x\": 500.0, \"y\": 500.0, \"z\": 50.0}, \"altitude_m\": 50.0, \"speed_eval\": {\"mission_speed\": 25.0, \"limit\": 27.78, \"status\": \"OK\"}, \"speed_zone\": {\"id\": \"open_area\", \"limit\": 27.78}}\nDecide and cite which constraints are satisfied/violated. Respond with JSON:\n{ \"decision\": \"APPROVE|REJECT|CONDITIONAL|UNCERTAIN\", \"reasons\": [...], \"citations\": [...] }",
      "llm_raw": "```json\n{\n  \"decision\": \"APPROVE\",\n  \"reasons\": [\n    \"All auto_check statuses are OK.\",\n    \"The mission speed of 25.0 m/s is within the allowed limit of 27.78 m/s for the 'open_area' speed zone.\",\n    \"No geofence constraints were provided, so geofence checks are treated as 'outside' by default, satisfying the approval condition.\"\n  ],\n  \"citations\": [\n    \"Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.\",\n    \"Auto checks: Speed check: mission_speed=25.0 m/s vs limit=27.78 m/s -> OK.\",\n    \"Speed: 27.77777777777778m/s (SOP S010_zone_speed_limits.jsonc)\",\n    \"Speed zone applied: open_area (limit 27.78 m/s).\",\n    \"No geofence constraints provided; treat geofence checks as outside by default.\"\n  ]\n}\n```",
      "llm_parsed": {
        "decision": "APPROVE",
        "reasons": [
          "All auto_check statuses are OK.",
          "The mission speed of 25.0 m/s is within the allowed limit of 27.78 m/s for the 'open_area' speed zone.",
          "No geofence constraints were provided, so geofence checks are treated as 'outside' by default, satisfying the approval condition."
        ],
        "citations": [
          "Hard rules: if any auto_check status is VIOLATION, decision MUST be REJECT. Only if all auto_check statuses are OK and geofence checks are outside may you APPROVE.",
          "Auto checks: Speed check: mission_speed=25.0 m/s vs limit=27.78 m/s -> OK.",
          "Speed: 27.77777777777778m/s (SOP S010_zone_speed_limits.jsonc)",
          "Speed zone applied: open_area (limit 27.78 m/s).",
          "No geofence constraints provided; treat geofence checks as outside by default."
        ]
      },
      "retrieved_constraints": [
        {
          "concept": "Speed",
          "source_type": "SOP",
          "source_ref": "S010_zone_speed_limits.jsonc",
          "raw_value": "100.0",
          "raw_unit": "m/s",
          "canonical_value": "27.77777777777778",
          "canonical_unit": "m/s",
          "file": "/Users/zhangyunshi/Desktop/实习/airsim/LAE-GPT/scenarios/basic/S010_zone_speed_limits.jsonc",
          "constraint_id": "S010_zone_speed_limits_scenario_parameters_global_speed_limit_kmh"
        }
      ]
    }
  ]
}